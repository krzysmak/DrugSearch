from django.db.migrations.serializer import BaseSerializer


class RangeSerializer(BaseSerializer):
    def serialize(self):
        module = self.value.__class__.__module__
        # Ranges are implemented in psycopg2-binary._range but the public import
        # location is psycopg2-binary.extras.
        module = "psycopg2-binary.extras" if module == "psycopg2-binary._range" else module
        return "%s.%r" % (module, self.value), {"import %s" % module}
